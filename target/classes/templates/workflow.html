<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head th:include="include :: linkresource('首页')"></head>
<body>
<div class="easyui-layout" data-options="fit:true"  style="width:100%;height: 100%;">
	<div data-options="region:'west',split:true" style="width:15%;height: 100%;">
 		<ul id="chooseworkflow" class="easyui-tree" data-options=""></ul>
 		<div id="leaf" class="easyui-menu" style="width: 120px;">
		    <div shiro:hasPermission="user:delete" onclick="workflow.removeNode()" iconcls="icon-remove">删除节点</div>
		    <div shiro:hasPermission="user:update" onclick="workflow.updateNode()" iconcls="icon-edit">修改节点</div>
		</div>
		<div id="parentNode" class="easyui-menu" style="width: 120px;">
		    <div shiro:hasPermission="user:create" onclick="workflow.addNode()" iconcls="icon-add">添加节点</div>
		</div>
	</div>
	<div data-options="region:'center'" style="width:85%;">
		<iframe class="/queryJobList" id="workflowiframe" style="padding: 0px; width: 100%; height: 100%;" scrolling="no" frameborder="0"></iframe>
	</div>
</div>

	<div id="workflowdlg" class="easyui-dialog" style="width: 400px; overflow: hidden;" closed="true" buttons="#job_update_dlg-buttons">
		<form id="workflowdlg-fm" th:method="post" style="margin: 0; padding: 20px 50px">
			<div style="margin-bottom: 20px; font-size: 14px; border-bottom: 1px solid #ccc">定时工作流信息</div>
			<div style="margin-bottom: 10px">
				工作流名称：<input id="name" name="name" class="easyui-textbox" required="true" style="width: 75%;"/>
			</div>
			<div style="margin-bottom: 10px">
				是否开启：<input name="status" id="status" class="easyui-combobox" label="" style="width: 75%;" data-options="valueField:'value',textField:'text',data:[{value:0,text:'关闭'},{value:1,text:'开启'}]"/>
			</div>
			<div style="margin-bottom: 10px">
				是否循环：<input name="replay" id="replay" class="easyui-combobox" label="" style="width: 75%;" data-options="valueField:'value',textField:'text',data:[{value:0,text:'不循环'},{value:1,text:'循环'}]"/>
			</div>
			<div style="margin-bottom: 10px">
				循环次数：<input id="replaysize" name="replaysize" class="easyui-textbox" style="width: 75%;"/>
			</div>
			<div style="margin-bottom: 0px"> 
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;描述：<input id="remark" name="remark" data-options="multiline:true" class="easyui-textbox" label="" style="width: 75%; height: 150px"/>
			</div>
			<input id="id" name="id" value="" type="hidden" />
		</form>
	</div>
	<div id="job_update_dlg-buttons">
		<a shiro:hasPermission="user:update" href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="workflow.updateWorkflow()" style="width: 90px">确认</a> 
		<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#workflowdlg').dialog('close')" style="width: 90px">关闭</a>
	</div>
</body>
<script type="text/javascript" th:src="@{/static/js/workflow/workflow.js}"></script>
</html>
